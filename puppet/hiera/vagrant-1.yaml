# hiera file that is used for Vagrant installs only, never for production

---
classes:
  - uber_server                       # install sideboard+plugins (including ubersystem)
  - site::logging_server              # include stuff needed for centralized log/analysis server
  - site::logging_client              # include stuff needed for lightweight log sending from a node to a central server
  - site::generate_self_signed_ssl_certs    # generate self signed certs signed by a generated self-signed CA key/crt

uber_instances:
        ubersystem_vagrant:
                # the path where sideboard+ubersystem is installed on the guest OS
                # /home/vagrant/uber/ is being hosted on the HOST os and shared.
                # this is extremely convenient for development, but, disk IO is far slower
                # in shared folders.
                uber_path:      '/home/vagrant/uber/sideboard'

                # ALTERNATIVELY, use this path instead for faster deploys/IO,
                # but it will move the repo out of the HOST os's shared folder
                # which will result in not being able to edit these directly on the shared host.
                # it also means that you have to have the GUEST machine powered up in order to access the files,
                # and if you destroy the machine you will lose uncommited changes.
                # 
                # it's not ideal, but it's a decent tradeoff because otherwise it tens of minutes to complete
                # uber_path:      '/usr/local/uber/sideboard'

                # a system user created for this instance.
                # all files will be created as this user and the
                # process runs as this user
                uber_user:  'vagrant'
                uber_group: 'vagrant'

                organization_name: 'CoolCon'

                sideboard_repo:       'https://github.com/magfest/sideboard'
                sideboard_branch:     'master'

                # each of these repos will be cloned and put in %uber_path%/plugins/%name%
                sideboard_plugins:
                        uber:
                                git_repo: 'https://github.com/magfest/ubersystem'
                                git_branch: 'master'
                        magprime_emails:
                                git_repo: 'https://github.com/magfest/magprime_emails'
                                git_branch: 'master'

                # network settings
                # note: this port number is an internal port number.
                # it is proxied by NGINX to 443 via virtualhost
                # this port number is never publicly accessible
                socket_port:    '8282'
                url_prefix:     'uber'

                # event-specific settings
                event_name:     'CoolCon'
                year: 13
                dev_box: 'True'
                send_emails: 'False'
                prereg_open: '2014-08-06'

                hostname: 'localhost'
                ssl_port: '4443'
